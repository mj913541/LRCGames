<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pumpkin Patch Voting</title>
  <style>
    :root{
      --bg:#2b2b2b;
      --fg:#f5f5f5;
      --orange:#ff6f00;
      --brown:#4d2800;
      --accent:#ffa94d;
      --green:#1b5e20;
      --shadow:rgba(0,0,0,0.35);
    }
    *{box-sizing:border-box}
    body{
      font-family:'Comic Sans MS', cursive, sans-serif;
      background: radial-gradient(1000px 700px at 50% -20%, #333, var(--bg));
      color:var(--fg);
      text-align:center;
      margin:0;
      overflow-x:hidden;
    }

    header.halloween-header, footer.halloween-footer{
      padding:20px;
      background-color:var(--brown);
      border:5px solid var(--orange);
      position:relative;
      box-shadow:0 8px 24px var(--shadow) inset;
    }
    h1, h2{ animation:glow 2s infinite alternate; margin:0.25rem 0; }
    p.lead{ margin:0.25rem 0 0.5rem; opacity:0.95 }

    .wrap{max-width:1100px;margin:0 auto;padding:16px}

    /* --- carousel --- */
    .carousel-container{
      position:relative;
      width:90%;
      max-width:900px;
      margin:18px auto 8px;
      overflow:hidden;
      border:5px solid var(--orange);
      border-radius:16px;
      background:#1f1f1f;
      box-shadow:0 10px 28px var(--shadow);
    }
    .carousel{ display:flex; transition: transform 0.5s ease; }
    .carousel-item{ min-width:100%; display:grid; place-items:center; padding:12px }
    .carousel-item img{
      width:100%;
      max-height:62vh;
      object-fit:contain;
      border-radius:12px;
      background:#111;
      box-shadow:0 4px 14px rgba(0,0,0,0.4) inset;
    }
    .carousel-button{
      position:absolute; top:50%; transform:translateY(-50%);
      background-color:rgba(0, 0, 0, 0.55);
      color:var(--orange);
      border:2px solid #000;
      padding:10px 16px; cursor:pointer; z-index:10;
      border-radius:8px;
      transition:transform .2s, box-shadow .2s, background .2s;
    }
    .carousel-button:hover{ transform:translateY(-50%) scale(1.06); box-shadow:0 0 12px var(--orange) }
    .carousel-button.prev{ left:8px }
    .carousel-button.next{ right:8px }

    /* dots */
    .dots{ display:flex; justify-content:center; gap:8px; margin:10px 0 2px }
    .dot{
      width:9px; height:9px; border-radius:50%;
      background:#777; border:1px solid #111; cursor:pointer;
      transition: transform .2s, background .2s;
    }
    .dot:hover{ transform:scale(1.2) }
    .dot.active{ background:var(--orange) }

    /* CTA vote button */
    .vote-button{
      display:inline-flex; align-items:center; gap:10px;
      background:linear-gradient(135deg, var(--accent), var(--orange));
      color:#2b2b2b; padding:14px 22px; text-decoration:none;
      font-size:1.35rem; font-weight:800;
      border:3px solid #2b2b2b; border-radius:12px; margin:16px 0 6px;
      box-shadow:0 8px 20px var(--shadow);
      transition: transform .25s, box-shadow .25s, filter .25s;
    }
    .vote-button:hover{ transform:translateY(-2px) scale(1.02); box-shadow:0 12px 26px var(--shadow); filter:saturate(1.05) }

    /* info grid/cards */
    .info-grid{
      display:grid; gap:16px; margin:18px auto 28px;
      width:90%; max-width:1000px;
      grid-template-columns: repeat(3, minmax(260px, 1fr));
      grid-auto-rows: auto;
      align-items:start;
    }
    .card{
      text-align:left; background:rgba(77,40,0,0.75);
      border:2px solid rgba(255,111,0,0.6);
      border-radius:16px; padding:14px 16px;
      box-shadow:0 8px 22px var(--shadow);
    }
    .card h3{
      margin:4px 0 10px; font-size:1.25rem;
      text-shadow:0 1px 0 rgba(255,255,255,0.15)
    }
    .card ul{ margin:0; padding-left:22px }
    .card li{ margin:6px 0 }
    .badge{
      display:inline-block; font-weight:800; font-size:0.95rem;
      background:#000; color:var(--accent);
      border:1px solid var(--orange);
      padding:4px 8px; border-radius:999px; margin:0 0 8px;
    }
    .contact{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      margin-top:8px; font-size:0.95rem;
    }
    .contact a{ color:#9bd; font-weight:700; text-decoration:underline }

    /* Centered, no-bullets for the first three cards */
    .card.center{ text-align:center; }
    .card.center ul{ list-style:none; padding-left:0; }
    .card.center li{ margin:8px 0; }

    /* Make the Questions card span full width beneath the top three */
    .card.wide{ grid-column: 1 / -1; }

    /* responsive */
    @media (max-width: 820px){
      .info-grid{ grid-template-columns: 1fr; }
      .card.wide{ grid-column: 1 / -1; }
    }

    footer.halloween-footer h1{ font-size:1.5rem }

    @keyframes glow{
      from{ text-shadow:0 0 5px var(--orange), 0 0 10px var(--orange) }
      to{ text-shadow:0 0 20px var(--orange), 0 0 30px var(--orange) }
    }

    @media (prefers-reduced-motion:reduce){
      .carousel{ transition:none }
      .vote-button{ transition:none }
      .carousel-button{ transition:none }
      .dot{ transition:none }
    }
  </style>
</head>
<body>
  <header class="halloween-header">
    <div class="wrap">
      <h1>üéÉ Welcome to the Pumpkin Patch! üéÉ</h1>
      <p class="lead">Click through the pumpkins and vote for your favorite one!</p>
    </div>
  </header>

  <main class="wrap">
    <!-- CAROUSEL -->
    <section class="carousel-container" aria-label="Pumpkin gallery">
      <div class="carousel" id="carousel" role="listbox" aria-live="polite">
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/belle.jpeg" alt="Pumpkin 1" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/catinthehat.jpeg" alt="Pumpkin 2" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/dogman.jpeg" alt="Pumpkin 3" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/grinch.jpeg" alt="Pumpkin 4" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/grouchyladybug.jpeg" alt="Pumpkin 5" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/harrypotter.jpeg" alt="Pumpkin 6" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/investigators.jpeg" alt="Pumpkin 7" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/pigthemonster.jpeg" alt="Pumpkin 8" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/sofia.jpeg" alt="Pumpkin 9" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/spiderman.jpeg" alt="Pumpkin 10" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/stitch.jpeg" alt="Pumpkin 11" loading="lazy"></div>
        <div class="carousel-item"><img src="../../pictures/pumpkinPatchPhotos/sugarskull.jpeg" alt="Pumpkin 12" loading="lazy"></div>
      </div>

      <button class="carousel-button prev" onclick="prevSlide()" aria-label="Previous pumpkin">&#9664;</button>
      <button class="carousel-button next" onclick="nextSlide()" aria-label="Next pumpkin">&#9654;</button>
    </section>

    <div class="dots" id="dots" aria-hidden="true"></div>

    <!-- VOTE -->
    <section class="vote-section">
      <h2>Vote for Your Favorite Pumpkin!</h2>
      <a href="../pumpkinPatch/pumpkinPatchVotingModal.html"
         target="_blank" class="vote-button" aria-label="Open voting form">
        üìù Vote Here!
      </a>
    </section>

    <!-- INFO -->
    <section class="info-grid" aria-label="Contest information">
      <article class="card center">
        <h3>About the Contest</h3>
        <p>Celebrate your love of books by decorating a (fake) pumpkin inspired by a book, a book character, or a nonfiction topic. Pumpkins and their books will be displayed in the LRC.</p>
      </article>

      <article class="card center">
        <h3>Rules</h3>
        <ul>
          <li>One entry per family‚Äîwork together to create something cool!</li>
          <li>Pumpkins must be <strong>fake</strong>.</li>
          <li>Your pumpkin must represent a <strong>book</strong>, a <strong>book character</strong>, or a <strong>nonfiction topic</strong>.</li>
        </ul>
      </article>

      <article class="card center">
        <h3>Timeline</h3>
        <ul>
          <li><span class="badge">Oct 1‚Äì21</span> </br>Bring your decorated pumpkin to the Long Beach LRC. Please put your child‚Äôs name on the bottom (permanent marker) and on a post-it in the corresponding book.</li>
          <li><span class="badge">Oct 22‚Äì29</span></br> Students and teachers will vote during LRC time.</li>
          <li><span class="badge">Oct 31</span></br> Take pumpkins home. Winners will be announced on Oct 31!</li>
        </ul>
      </article>

      <article class="card wide">
        <h3>Questions?</h3>
        <div class="contact">
          <span>Contact Mrs. Albrecht in the LRC:</span>
          <a href="mailto:malbrecht@sd308.org">malbrecht@sd308.org</a>
        </div>
      </article>
    </section>
  </main>

  <footer class="halloween-footer">
    <div class="wrap">
      <h1>Happy Fall! üéÉüëª</h1>
    </div>
  </footer>

  <script>
    // Carousel logic with dots + keyboard support
    let currentIndex = 0;
    const items = Array.from(document.querySelectorAll('.carousel-item'));
    const carousel = document.getElementById('carousel');
    const dotsWrap = document.getElementById('dots');

    // build dots
    items.forEach((_, i) => {
      const dot = document.createElement('button');
      dot.className = 'dot';
      dot.setAttribute('aria-label', 'Go to pumpkin ' + (i+1));
      dot.addEventListener('click', () => goToSlide(i));
      dotsWrap.appendChild(dot);
    });

    function updateDots(){
      const dots = dotsWrap.querySelectorAll('.dot');
      dots.forEach((d, i) => d.classList.toggle('active', i === currentIndex));
    }

    function showSlide(index){
      items.forEach((item, i) => {
        item.classList.toggle('active', i === index);
        item.setAttribute('aria-selected', i === index ? 'true' : 'false');
      });
      carousel.style.transform = `translateX(-${index * 100}%)`;
      updateDots();
    }

    function goToSlide(index){
      currentIndex = (index + items.length) % items.length;
      showSlide(currentIndex);
    }

    function nextSlide(){ goToSlide(currentIndex + 1); }
    function prevSlide(){ goToSlide(currentIndex - 1); }

    // keyboard
    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') nextSlide();
      if (e.key === 'ArrowLeft') prevSlide();
    });

    // init
    showSlide(currentIndex);
  </script>
</body>
</html>
