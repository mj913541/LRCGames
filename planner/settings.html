<!-- planner/settings.html -->
<div class="card">
  <div class="hd">
    <h2>Settings</h2>
    <div class="small muted">Adjust your A/B/C/D/E templates + weekday fallback mapping.</div>
  </div>

  <div class="bd">
    <!-- Weekday fallback mapping -->
    <div class="card" style="margin:0 0 18px 0;">
      <div class="hd">
        <div style="font-weight:900;">Weekday fallback letter map</div>
        <div class="small muted">Used only when a date isn’t in your Date → Letter map.</div>
      </div>
      <div class="bd" style="padding:14px;">
        <div style="display:grid; grid-template-columns: repeat(5, minmax(120px, 1fr)); gap:10px;">
          <div>
            <label class="small">Mon</label>
            <input id="mapMon" class="input" maxlength="1" placeholder="A" style="text-transform:uppercase;" />
          </div>
          <div>
            <label class="small">Tue</label>
            <input id="mapTue" class="input" maxlength="1" placeholder="B" style="text-transform:uppercase;" />
          </div>
          <div>
            <label class="small">Wed</label>
            <input id="mapWed" class="input" maxlength="1" placeholder="C" style="text-transform:uppercase;" />
          </div>
          <div>
            <label class="small">Thu</label>
            <input id="mapThu" class="input" maxlength="1" placeholder="D" style="text-transform:uppercase;" />
          </div>
          <div>
            <label class="small">Fri</label>
            <input id="mapFri" class="input" maxlength="1" placeholder="E" style="text-transform:uppercase;" />
          </div>
        </div>
      </div>
    </div>

    <!-- A/B/C/D/E schedule templates -->
    <div class="card" style="margin:0 0 18px 0;">
      <div class="hd">
        <div style="font-weight:900;">A/B/C/D/E schedule templates (JSON)</div>
        <div class="small muted">
          Paste your templates here (example):
          <code>[{"start":"09:05","end":"09:50","title":"4th Cavello","area":"lrc"}]</code>
        </div>
      </div>
      <div class="bd" style="padding:14px;">
        <textarea
          id="scheduleJson"
          class="input"
          spellcheck="false"
          style="width:100%; min-height:320px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;"
        ></textarea>
      </div>
    </div>

    <!-- Date → Letter map -->
    <div class="card" style="margin:0 0 18px 0;">
      <div class="hd">
        <div style="font-weight:900;">Date → Letter Map (JSON)</div>
        <div class="small muted">Overrides weekday fallback. Use <code>null</code> for No School.</div>
      </div>
      <div class="bd" style="padding:14px;">
        <textarea
          id="dateMapJson"
          class="input"
          spellcheck="false"
          style="width:100%; min-height:260px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;"
        ></textarea>
      </div>
    </div>

    <div style="display:flex; justify-content:flex-end; gap:10px; flex-wrap:wrap;">
      <button id="resetSettingsBtn" class="btn">Reset to Defaults</button>
      <button id="saveSettingsBtn" class="btn primary">Save Settings</button>
    </div>

    <div class="card" style="margin:18px 0 0 0;">
      <div class="hd">
        <div style="font-weight:900;">Tip</div>
        <div class="small muted">Once templates + date map are saved, Weekly auto-fills correctly every day.</div>
      </div>
      <div class="bd" style="padding:14px;">
        <div class="small muted">
          Put the BIG A/B/C/D/E JSON into <b>scheduleJson</b>. Put the PDF date map into <b>dateMapJson</b>.
        </div>
      </div>
    </div>
  </div>
</div>
