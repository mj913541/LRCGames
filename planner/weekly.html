<!-- planner/weekly.html -->
<div class="card">
  <div class="hd" style="display:flex; justify-content:space-between; align-items:flex-end; gap:12px; flex-wrap:wrap;">
    <div>
      <h2>Weekly</h2>
      <div class="small muted">Drag tasks from Inbox onto a time slot to convert them into time blocks.</div>
    </div>
    <div style="display:flex; gap:10px; flex-wrap:wrap;">
      <button id="openAddApptBtnWeekly" class="btn">+ Appointment</button>
      <button id="weeklyInkToggle" class="btn">Ink: OFF</button>
    </div>
  </div>

  <div class="bd">
    <!-- No School Banner (toggled by ui.js) -->
    <div id="noSchoolBanner" class="banner hidden" style="margin:0 0 14px 0;">
      üè´ <strong>No School</strong> on one or more days this week ‚Äî schedule lightly and enjoy the breathing room.
    </div>

    <!-- Weekly Ink Layer (single canvas covering the schedule board) -->
    <div class="card" style="margin:0 0 18px 0;">
      <div class="hd" style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
        <div>
          <div style="font-weight:900;">Week Board</div>
          <div class="small muted">Tap any slot to add an appointment at that time. Tap blocks to edit.</div>
        </div>
        <div id="weeklyInkToolbar"></div>
      </div>

      <div class="bd" style="padding:14px;">
        <!-- Wrap MUST have id weeklyInkWrap for ink.js -->
        <div
          id="weeklyInkWrap"
          class="inkWrap"
          style="position:relative; border-radius:18px; border:1px solid var(--border); background:#fff; overflow:hidden;"
        >
          <!-- canvas injected by ink.js: id weeklyInkCanvas -->
          <div
            id="weekColumns"
            style="display:grid; grid-template-columns: repeat(7, minmax(240px, 1fr)); gap:12px; padding:12px; overflow-x:auto;"
          >
            <!-- ui.js will inject day columns/cards here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Weekly Inbox -->
    <div class="card" style="margin:0;">
      <div class="hd">
        <div style="font-weight:900;">Inbox (Drag to Schedule)</div>
        <div class="small muted">Only Inbox tasks are shown here. Add more on Dashboard.</div>
      </div>
      <div class="bd" style="padding:14px;">
        <div id="weeklyInbox"></div>
      </div>
    </div>
  </div>
</div>
