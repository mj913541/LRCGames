<!-- dashboard.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Daily Dashboard</title>
  <link rel="stylesheet" href="./dashboard.css" />
</head>

<body>
  <header class="topBar">
    <div>
      <h1>fff Daily Dashboard</h1>
      <p class="sub" id="dateLine"></p>
      <p class="small muted" id="accountLine"></p>
    </div>

    <div class="topActions">
      <div class="pill" id="colorDayPill">‚Äî</div>
      <button class="ghostBtn" id="expandAllCardsBtn" type="button">Expand</button>
      <button class="ghostBtn" id="collapseAllCardsBtn" type="button">Collapse</button>
    </div>
  </header>

  <div class="layout">
    <!-- LEFT -->
    <main class="mainCol">

      <!-- Top 3 Priorities -->
      <details class="cardDetails" id="cardPriorities" open>
        <summary class="cardSummary">
          <span>Top 3 Priorities</span>
          <span class="summaryHint">optional ‚Ä¢ 3 lines</span>
        </summary>
        <div class="card">
          <div class="small muted">Auto-saves as you type.</div>
          <div class="prioGrid">
            <input id="prio1" placeholder="1) One thing that matters" />
            <input id="prio2" placeholder="2) Next best thing" />
            <input id="prio3" placeholder="3) If I can" />
          </div>
        </div>
      </details>

      <!-- Context -->
      <details class="cardDetails" id="cardContext" open>
        <summary class="cardSummary">
          <span>Context</span>
          <span class="summaryHint">sets up your day</span>
        </summary>
        <div class="card">
          <div class="row">
            <div>
              <label>What day of the week is it?</label>
              <select id="dow">
                <option value="">‚Äî choose ‚Äî</option>
                <option>Monday</option><option>Tuesday</option><option>Wednesday</option>
                <option>Thursday</option><option>Friday</option><option>Saturday</option><option>Sunday</option>
              </select>
            </div>

            <div>
              <label>What school letter day is it?</label>
              <select id="letterDay">
                <option value="">‚Äî choose ‚Äî</option>
                <option>A Day</option><option>B Day</option><option>C Day</option>
                <option>D Day</option><option>E Day</option><option>Break Day</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label>Day type</label>
              <select id="dayType">
                <option value="">‚Äî choose ‚Äî</option>
                <option value="Normal">Normal</option>
                <option value="Low">Low energy</option>
                <option value="Sick">Sick day</option>
                <option value="Chaos">Chaos day</option>
              </select>
            </div>

            <div>
              <label>Therapy tonight?</label>
              <select id="therapy">
                <option value="">‚Äî choose ‚Äî</option>
                <option>No</option>
                <option>Yes</option>
              </select>
              <div class="small muted" id="therapyHint"></div>
            </div>
          </div>

          <div class="buttonRow">
            <button id="startHereBtn" type="button">Start here</button>
            <button class="ghostBtn" id="rolloverBtn" type="button">Rollover ‚Üí Tomorrow</button>
          </div>

          <button id="saveBtn" type="button">Save Today</button>
        </div>
      </details>

      <!-- Today at School -->
      <details class="cardDetails" id="cardSchool" open>
        <summary class="cardSummary">
          <span>Today at School</span>
          <span class="summaryHint">classes + appointments</span>
        </summary>
        <div class="card cardSchool">
          <div class="headerRow">
            <div class="small muted">Auto-loads from your letter-day schedule.</div>
            <div class="pill" id="schoolPill">0 / 0</div>
          </div>

          <details class="miniDetails" id="apptsDetails">
            <summary>Add custom appointments</summary>
            <div class="small muted">One per line (Dentist 3:15, Call pediatrician, etc.).</div>
            <textarea id="customAppts" placeholder="One per line‚Ä¶"></textarea>
          </details>

          <div id="schoolWrap"></div>
        </div>
      </details>

      <!-- Merged Day (Appointments + MUST DO) -->
      <details class="cardDetails" id="cardMerged" open>
        <summary class="cardSummary">
          <span>Merged Day</span>
          <span class="summaryHint">appointments + tasks</span>
        </summary>
        <div class="card">
          <div class="headerRow">
            <div class="toggleMini">
              <input id="mergedHideChecked" type="checkbox" />
              <label for="mergedHideChecked">Hide checked</label>
            </div>
            <div class="pill" id="mergedPill">0 / 0</div>
          </div>
          <div id="mergedWrap"></div>
        </div>
      </details>

      <!-- MUST DO -->
      <details class="cardDetails" id="cardTasks" open>
        <summary class="cardSummary">
          <span>MUST DO</span>
          <span class="summaryHint">by time zone</span>
        </summary>
        <div class="card" id="tasksCard">
          <div class="headerRow">
            <div class="toggleMini">
              <input id="onlyUnchecked" type="checkbox" />
              <label for="onlyUnchecked">Show only unchecked</label>
            </div>
            <div class="pill" id="donePill">0 / 0</div>
          </div>

          <details class="miniDetails" id="zonesDetails" open>
            <summary>Show/Hide time zones</summary>
            <div class="zoneToggles" id="zoneToggles"></div>
          </details>

          <div id="zonesWrap"></div>

          <details id="customizeDetails">
            <summary>Customize tasks (optional)</summary>
            <div class="small muted">Format: <b>[Zone] Task</b> ‚Äî Example: <b>[Morning] Feed cat</b>. One per line.</div>

            <label>Daily tasks</label>
            <textarea id="tplDaily"></textarea>

            <label>Daycare days only (Tue / Thu / Fri)</label>
            <textarea id="tplDaycare"></textarea>

            <label>Thursday only</label>
            <textarea id="tplThursday"></textarea>

            <label>Therapy night</label>
            <textarea id="tplTherapyNight"></textarea>

            <label>Hygiene Pack tasks (always included)</label>
            <textarea id="tplHygiene"></textarea>

            <label>Carryover tasks (‚Äúif I skip it, it comes back tomorrow‚Äù)</label>
            <textarea id="tplCarryover" placeholder="[Arrive Home] Dishes&#10;[Arrive Home] Start laundry"></textarea>

            <button id="saveTplBtn" type="button">Save Templates</button>
          </details>
        </div>
      </details>

      <!-- Last Time I -->
      <details class="cardDetails" id="cardLastTime">
        <summary class="cardSummary">
          <span>When was the last time I‚Ä¶?</span>
          <span class="summaryHint">memory helper</span>
        </summary>
        <div class="card">
          <div class="small muted">Tap ‚ÄúJust did it‚Äù ‚Äî we remember the date.</div>

          <div id="lastTimeWrap" class="lastTimeList"></div>

          <details class="miniDetails">
            <summary>Customize items</summary>
            <div class="small muted">One per line.</div>
            <textarea id="lastTimeCustom" placeholder="Shave legs&#10;Wash hair&#10;Trim nails"></textarea>
            <button id="saveLastTimeBtn" type="button">Save items</button>
          </details>
        </div>
      </details>

      <!-- Parking Lot -->
      <details class="cardDetails" id="cardParking" open>
        <summary class="cardSummary">
          <span>Not Today</span>
          <span class="summaryHint">parking lot</span>
        </summary>
        <div class="card">
          <textarea id="notToday" placeholder="Dump anything else here‚Ä¶"></textarea>
          <div class="small muted">This is storage, not a mandate.</div>
        </div>
      </details>

    </main>

    <!-- RIGHT -->
    <aside class="sideCol">
      <details class="cardDetails" id="cardTrackers" open>
        <summary class="cardSummary">
          <span>Trackers</span>
          <span class="summaryHint">quick inputs</span>
        </summary>
        <div class="card">
          <div class="headerRow">
            <div class="small muted">Tiny wins count. Saves per day.</div>
            <div class="pill" id="streakPill">‚Äî</div>
          </div>

          <div class="trackerStack">
            <!-- Water -->
            <div class="trackerCard">
              <div class="trackerHead">
                <div class="trackerTitle">Water</div>
                <div class="pill" id="waterPill">0</div>
              </div>
              <div class="small muted">Tap + each drink.</div>
              <div class="stepper">
                <button class="stepBtn" id="waterMinus" type="button">‚àí</button>
                <input id="waterCount" type="number" inputmode="numeric" min="0" step="1" />
                <button class="stepBtn" id="waterPlus" type="button">+</button>
              </div>
              <div class="small muted" id="waterStreakLine"></div>
            </div>

            <!-- Movement -->
            <div class="trackerCard">
              <div class="trackerHead">
                <div class="trackerTitle">Movement</div>
                <div class="pill" id="movePill">0 min</div>
              </div>
              <div class="small muted">Minutes of movement.</div>
              <input id="moveMinutes" type="number" inputmode="numeric" min="0" step="5" placeholder="0" />
              <div class="small muted" id="moveStreakLine"></div>

              <div class="small muted" style="margin-top:10px;font-weight:800;">Bodyweight reps (build gently)</div>
              <div id="bodyTrackersWrap" class="trackerStack"></div>
            </div>

            <!-- Mood -->
            <div class="trackerCard">
              <div class="trackerHead">
                <div class="trackerTitle">Mood</div>
                <div class="pill" id="moodPill">‚Äî</div>
              </div>
              <select id="mood">
                <option value="">‚Äî</option>
                <option>üòÑ Great</option>
                <option>üôÇ Okay</option>
                <option>üòï Meh</option>
                <option>üò£ Rough</option>
                <option>üò≠ Overwhelmed</option>
              </select>
            </div>

            <!-- Energy -->
            <div class="trackerCard">
              <div class="trackerHead">
                <div class="trackerTitle">Energy</div>
                <div class="pill" id="energyPill">3/5</div>
              </div>
              <input id="energy" type="range" min="1" max="5" step="1" />
              <div class="rangeRow">
                <span class="muted small">low</span>
                <span class="muted small">high</span>
              </div>
            </div>
          </div>

          <details class="miniDetails">
            <summary>Backup / Restore</summary>
            <div class="small muted">Export saves everything for this dashboard.</div>
            <div class="buttonRow">
              <button id="exportBtn" type="button">Export JSON</button>
              <label class="fileLabel">
                Import JSON
                <input id="importFile" type="file" accept="application/json" />
              </label>
            </div>
          </details>
        </div>
      </details>
    </aside>
  </div>

  <script type="module" src="./dashboard.js"></script>>
</body>
</html>
