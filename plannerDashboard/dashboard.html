<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Planner Dashboard | LRC Quest</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./dashboard.css" />
</head>
<body>
  <div class="page-shell">
    <header class="top-bar">
      <div class="top-bar-left">
        <h1 class="app-title">My Planner</h1>
        <p class="app-subtitle">gentle daily focus for Mrs. A</p>
      </div>
      <div class="top-bar-right">
        <div class="today-chip">
          <span id="today-label">Today</span>
        </div>
        <div class="user-chip" id="user-chip">
          <span id="user-email">Loading…</span>
        </div>
      </div>
    </header>

    <!-- Unauthorized banner -->
    <div class="unauthorized-banner hidden" id="unauthorized-banner">
      <p>
        This planner dashboard is only available for Mrs. A.
        Please log in as <strong>malbrecht@sd308.org</strong> or
        <strong>malbrecht3317@gmail.com</strong>.
      </p>
    </div>

    <main class="layout">
      <!-- LEFT PANEL -->
      <section class="main-panel" aria-label="Planner main panel">
        <!-- Daily Context -->
<section class="card collapsible" id="context-card">
  <header class="card-header collapsible-header">
    <div>
      <h2>Daily Context</h2>
    </div>
    <button class="collapse-toggle" type="button" aria-expanded="true">
      <span class="collapse-label">Hide</span>
      <span class="chevron">&#9662;</span>
    </button>
  </header>

  <!-- note the extra classes: collapsible-body (and you can keep context-grid) -->
  <div class="card-body collapsible-body context-grid">
    <div class="field-group">
      <label for="day-of-week">What day of the week is it?</label>
      <select id="day-of-week">
        <option value="">Select…</option>
        <option value="Monday">Monday</option>
        <option value="Tuesday">Tuesday</option>
        <option value="Wednesday">Wednesday</option>
        <option value="Thursday">Thursday</option>
        <option value="Friday">Friday</option>
        <option value="Saturday">Saturday</option>
        <option value="Sunday">Sunday</option>
      </select>
    </div>

    <div class="field-group">
      <label for="letter-day">
        What school letter day is it?
        <span class="helper-text">(A, B, C, D, E, No School)</span>
      </label>
      <select id="letter-day">
        <option value="">Select…</option>
        <option value="A">A Day</option>
        <option value="B">B Day</option>
        <option value="C">C Day</option>
        <option value="D">D Day</option>
        <option value="E">E Day</option>
        <option value="NONE">No School</option>
      </select>
    </div>

    <div class="field-group daycare-group">
      <span>Is it a daycare day?</span>
      <div class="pill-toggle" id="daycare-toggle" role="radiogroup" aria-label="Daycare day">
        <button type="button" class="pill-option" data-value="yes">Yes</button>
        <button type="button" class="pill-option pill-option--active" data-value="no">No</button>
      </div>
    </div>

    <div class="field-group">
      <button id="apply-context" class="primary-btn">
        Apply / Update Day
      </button>
      <p class="tiny-hint" id="context-status">Context not applied yet.</p>
    </div>
  </div>
</section>


        <!-- Merged Tasks & Appointments -->
        <section class="card collapsible" data-section="merged">
          <header class="card-header collapsible-header">
            <div>
              <h2>Merged Tasks & Appointments</h2>
            </div>
            <button class="collapse-toggle" type="button" aria-expanded="true">
              <span class="collapse-label">Hide</span>
              <span class="chevron">&#9662;</span>
            </button>
          </header>

          <div class="card-body collapsible-body scrollable">
            <div class="merged-toolbar">
              <label class="hide-completed-label">
                <input type="checkbox" id="hide-completed" />
                Hide completed items
              </label>
            </div>

            <div class="time-bands">
              <div class="time-band" data-band="AM">
                <h3>Morning</h3>
                <ul class="task-list" id="am-task-list"></ul>
              </div>

              <div class="time-band" data-band="ARRIVE">
                <h3>Work Arrive</h3>
                <ul class="task-list" id="arrive-task-list"></ul>
              </div>

              <div class="time-band" data-band="MID">
                <h3>Midday</h3>
                <ul class="task-list" id="mid-task-list"></ul>
              </div>

              <div class="time-band" data-band="PM">
                <h3>Evening</h3>
                <ul class="task-list" id="pm-task-list"></ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Parking Lot -->
        <section class="card collapsible" data-section="parking">
          <header class="card-header collapsible-header">
            <div>
              <h2>Parking Lot</h2>
              <p class="card-subtitle">
                A rolling sticky note for stray thoughts. It gently carries over each day.
              </p>
            </div>
            <button class="collapse-toggle" type="button" aria-expanded="true">
              <span class="collapse-label">Hide</span>
              <span class="chevron">&#9662;</span>
            </button>
          </header>
          <div class="card-body collapsible-body scrollable">
            <textarea
              id="parking-lot"
              class="parking-textarea"
              rows="6"
              placeholder="Jot ideas, to-dos, things to remember. Nothing disappears unless you clear it."
            ></textarea>
            <p class="tiny-hint" id="parking-status">Saved automatically.</p>
          </div>
        </section>

        <!-- Weekly Tasks Progress -->
        <section class="card collapsible" data-section="weekly">
          <header class="card-header collapsible-header">
            <div>
              <h2>Weekly Tasks Progress</h2>
              <p class="card-subtitle">
                Track the “big rocks” for this week at work and at home.
              </p>
            </div>
            <button class="collapse-toggle" type="button" aria-expanded="true">
              <span class="collapse-label">Hide</span>
              <span class="chevron">&#9662;</span>
            </button>
          </header>

          <div class="card-body collapsible-body scrollable weekly-grid">
            <article class="sub-card" data-group="work">
              <div class="sub-card-header">
                <h3>Work</h3>
                <button type="button" class="mini-hide-btn" data-target="work">
                  Hide
                </button>
              </div>
              <div id="weekly-work-list" class="weekly-task-list"></div>
            </article>

            <article class="sub-card" data-group="home">
              <div class="sub-card-header">
                <h3>Home</h3>
                <button type="button" class="mini-hide-btn" data-target="home">
                  Hide
                </button>
              </div>
              <div id="weekly-home-list" class="weekly-task-list"></div>
            </article>
          </div>
        </section>
      </section>

      <!-- RIGHT PANEL: quote + trackers -->
      <aside class="side-panel" aria-label="Side panel">
        <!-- Quote card -->
        <div class="side-card">
          <p class="side-quote">
            “One thing at a time. Tiny progress still counts.”
          </p>
        </div>

        <!-- Goal Trackers -->
        <section class="card collapsible side-goal-card" data-section="goals">
          <header class="card-header collapsible-header">
            <div>
              <h2>Goal Trackers</h2>
              <p class="card-subtitle">“How many did I do today?”</p>
            </div>
            <button class="collapse-toggle" type="button" aria-expanded="true">
              <span class="collapse-label">Hide</span>
              <span class="chevron">&#9662;</span>
            </button>
          </header>
          <div class="card-body collapsible-body scrollable">
            <div class="goals-toolbar">
              <label class="hide-completed-label">
                <input type="checkbox" id="hide-completed-goals" />
                Hide completed goals
              </label>
            </div>
            <ul id="goal-tracker-list" class="goal-list"></ul>
          </div>
        </section>

        <!-- When was the last time I...? -->
        <section class="card collapsible side-lasttime-card" data-section="last-time">
          <header class="card-header collapsible-header">
            <div>
              <h2>When was the last time I…</h2>
              <p class="card-subtitle">
                Gentle nudges for occasional tasks.
              </p>
            </div>
            <button class="collapse-toggle" type="button" aria-expanded="true">
              <span class="collapse-label">Hide</span>
              <span class="chevron">&#9662;</span>
            </button>
          </header>
          <div class="card-body collapsible-body scrollable">
            <ul id="last-time-list" class="last-time-list"></ul>
          </div>
        </section>
      </aside>

    </main>
  </div>

  <script type="module" src="dashboard.js"></script>
</body>
</html>
